import{NavLink}from"react-router-dom";import{useAuth}from"../context/AuthContext";export default function Sidebar({dark,setDark}){const{user,logout}=useAuth();const role=user?.role||"guest";const common=[{to:"/",label:"Dashboard"},{to:"/password",label:"Password Strength"},{to:"/hash",label:"Hash Generator"},{to:"/crypto",label:"Encryption/Decryption"}];const analyst=[{to:"/url-scanner",label:"URL Scanner"},{to:"/port-scanner",label:"Port Scanner"},{to:"/whois",label:"WHOIS"},{to:"/virustotal",label:"VirusTotal"},{to:"/history",label:"History"}];const admin=[{to:"/admin-dashboard",label:"Admin Dashboard"},{to:"/admin-users",label:"User Management"},{to:"/settings",label:"Settings"}];const links=[...common,...((role==="analyst"||role==="admin")?analyst:[]),...(role==="admin"?admin:[]),...(!user?[{to:"/login",label:"Login"}]:[])];return(<aside className="min-h-screen w-64 border-r border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-gray-950"><div className="mb-6"><h1 className="text-xl font-bold text-gray-900 dark:text-white">Cyber Tools</h1><p className="text-xs text-gray-500 dark:text-gray-400">RBAC + Refresh Tokens</p><button onClick={()=>setDark(p=>!p)} className="mt-4 w-full rounded-xl border border-gray-200 bg-gray-50 px-3 py-2 text-sm font-semibold text-gray-800 hover:bg-gray-100 dark:border-gray-800 dark:bg-gray-900 dark:text-white dark:hover:bg-gray-800">{dark?"‚òÄÔ∏è Light":"üåô Dark"}</button><div className="mt-4 rounded-xl border border-gray-200 bg-gray-50 p-3 dark:border-gray-800 dark:bg-gray-900"><p className="text-xs text-gray-600 dark:text-gray-300">User: <b>{user?user.username:"Guest"}</b></p><p className="text-xs text-gray-500 dark:text-gray-400">Role: {user?role.toUpperCase():"GUEST"}</p>{user&&<button onClick={logout} className="mt-3 w-full rounded-xl bg-red-600 px-3 py-2 text-sm font-semibold text-white">Logout</button>}</div></div><nav className="flex flex-col gap-1">{links.map(l=>(<NavLink key={l.to} to={l.to} className={({isActive})=>`rounded-xl px-3 py-2 text-sm font-medium ${isActive?"bg-gray-900 text-white dark:bg-white dark:text-black":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-900"}`}>{l.label}</NavLink>))}</nav></aside>);}